import{e as d,y as Z,a as D}from"./cast-8b575ab3.js";import{p as N}from"./string-7a324480.js";import"./ArrayPool-5813d861.js";import{r as E,p as T,a as G,w as v,k as vt,f as Y,C as $t,M as Rt,D as Mt}from"./Extent-680ef92a.js";import{j as tt,t as Zt,r as S}from"./typedArrayUtil-ce39e5f4.js";function O(t,e,n=!1){let{hasM:i,hasZ:s}=t;Array.isArray(e)?e.length!==4||i||s?e.length===3&&n&&!i?(s=!0,i=!1):e.length===3&&i&&s&&(i=!1,s=!1):(i=!0,s=!0):(s=!s&&e.hasZ&&(!i||e.hasM),i=!i&&e.hasM&&(!s||e.hasZ)),t.hasZ=s,t.hasM=i}var j;function V(t){return(e,n)=>e==null?n:n==null?e:t(e,n)}function wt(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}let A=j=class extends T{constructor(...t){super(...t),this.points=[],this.type="multipoint"}normalizeCtorArgs(t,e){if(!t&&!e)return{};const n={};Array.isArray(t)?(n.points=t,n.spatialReference=e):wt(t)?n.spatialReference=t:(t.points&&(n.points=t.points),t.spatialReference&&(n.spatialReference=t.spatialReference),t.hasZ&&(n.hasZ=t.hasZ),t.hasM&&(n.hasM=t.hasM));const i=n.points&&n.points[0];return i&&(n.hasZ===void 0&&n.hasM===void 0?(n.hasZ=i.length>2,n.hasM=!1):n.hasZ===void 0?n.hasZ=i.length>3:n.hasM===void 0&&(n.hasM=i.length>3)),n}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const t=this.points;if(!t.length)return null;const e=new G,n=this.hasZ,i=this.hasM,s=n?3:2,r=t[0],o=V(Math.min),a=V(Math.max);let l,h,u,c,[f,p]=r,[y,m]=r;for(let g=0,$=t.length;g<$;g++){const x=t[g],[R,I]=x;if(f=o(f,R),p=o(p,I),y=a(y,R),m=a(m,I),n&&x.length>2){const M=x[2];l=o(l,M),u=a(u,M)}if(i&&x.length>s){const M=x[s];h=o(h,M),c=a(c,M)}}return e.xmin=f,e.ymin=p,e.xmax=y,e.ymax=m,e.spatialReference=this.spatialReference,n?(e.zmin=l,e.zmax=u):(e.zmin=void 0,e.zmax=void 0),i?(e.mmin=h,e.mmax=c):(e.mmin=void 0,e.mmax=void 0),e}writePoints(t,e){e.points=N(this.points)}addPoint(t){return O(this,t),Array.isArray(t)?this.points.push(t):this.points.push(t.toArray()),this.notifyChange("points"),this}clone(){const t={points:N(this.points),spatialReference:this.spatialReference};return this.hasZ&&(t.hasZ=!0),this.hasM&&(t.hasM=!0),new j(t)}getPoint(t){if(!this._validateInputs(t))return null;const e=this.points[t],n={x:e[0],y:e[1],spatialReference:this.spatialReference};let i=2;return this.hasZ&&(n.z=e[2],i=3),this.hasM&&(n.m=e[i]),new v(n)}removePoint(t){if(!this._validateInputs(t))return null;const e=new v(this.points.splice(t,1)[0],this.spatialReference);return this.notifyChange("points"),e}setPoint(t,e){return this._validateInputs(t)?(O(this,e),Array.isArray(e)||(e=e.toArray()),this.points[t]=e,this.notifyChange("points"),this):this}toJSON(t){return this.write({},t)}_validateInputs(t){return t!=null&&t>=0&&t<this.points.length}};d([Z({readOnly:!0})],A.prototype,"cache",null),d([Z()],A.prototype,"extent",null),d([Z({type:[[Number]],json:{write:{isRequired:!0}}})],A.prototype,"points",void 0),d([E("points")],A.prototype,"writePoints",null),A=j=d([D("esri.geometry.Multipoint")],A),A.prototype.toJSON.isDefaultToJSON=!0;const Qt=A;function Vt(t){if(!t)return null;if(Array.isArray(t))return t;const e=t.hasZ,n=t.hasM;if(t.type==="point")return n&&e?[t.x,t.y,t.z,t.m]:e?[t.x,t.y,t.z]:n?[t.x,t.y,t.m]:[t.x,t.y];if(t.type==="polygon")return t.rings.slice(0);if(t.type==="polyline")return t.paths.slice(0);if(t.type==="multipoint")return t.points.slice(0);if(t.type==="extent"){const i=t.clone().normalize();if(!i)return null;let s=!1,r=!1;return i.forEach(o=>{o.hasZ&&(s=!0),o.hasM&&(r=!0)}),i.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(s&&o.hasZ){const l=.5*(o.zmax-o.zmin);for(let h=0;h<a.length;h++)a[h].push(l)}if(r&&o.hasM){const l=.5*(o.mmax-o.mmin);for(let h=0;h<a.length;h++)a[h].push(l)}return a})}return null}function W(t,e){const n=e[0]-t[0],i=e[1]-t[1];if(t.length>2&&e.length>2){const s=t[2]-e[2];return Math.sqrt(n*n+i*i+s*s)}return Math.sqrt(n*n+i*i)}function et(t,e,n){const i=t[0]+n*(e[0]-t[0]),s=t[1]+n*(e[1]-t[1]);return t.length>2&&e.length>2?[i,s,t[2]+n*(e[2]-t[2])]:[i,s]}function Xt(t,e,n,i){const[s,r]=e,[o,a]=n[i],[l,h]=n[i+1],u=l-o,c=h-a,f=u*u+c*c,p=(s-o)*u+(r-a)*c,y=Math.min(1,Math.max(0,p/f));return t[0]=o+u*y,t[1]=a+c*y,t}function Yt(t,e,n){const i=n.rings;let s,r,o=!1,a=1/0;for(let l=0;l<i.length;l++){const h=i[l];for(let u=0,c=h.length-1;u<h.length;c=u++)s=h[u],r=h[c],s[1]>e!=r[1]>e&&t<(r[0]-s[0])*(e-s[1])/(r[1]-s[1])+s[0]&&(o=!o),a=Math.min(a,At(t,e,s,r))}return a===0?0:(o?1:-1)*Math.sqrt(a)}function At(t,e,n,i){let s=n[0],r=n[1],o=i[0]-s,a=i[1]-r;if(o!==0||a!==0){const l=((t-s)*o+(e-r)*a)/(o*o+a*a);l>1?(s=i[0],r=i[1]):l>0&&(s+=o*l,r+=a*l)}return o=t-s,a=e-r,o*o+a*a}function zt(t,e){return et(t,e,.5)}function te(t){const e=t.length;let n=0;for(let i=0;i<e-1;++i)n+=W(t[i],t[i+1]);return n}function ee(t,e){if(e<=0)return t[0];const n=t.length;let i=0;for(let s=0;s<n-1;++s){const r=W(t[s],t[s+1]);if(e-i<r){const o=(e-i)/r;return et(t[s],t[s+1],o)}i+=r}return t[n-1]}function nt(t,e,n){const i=t.length;let s=0,r=0,o=0;for(let a=0;a<i;a++){const l=t[a],h=t[(a+1)%i];let u=2;s+=l[0]*h[1]-h[0]*l[1],l.length>2&&h.length>2&&n&&(r+=l[0]*h[2]-h[0]*l[2],u=3),l.length>u&&h.length>u&&e&&(o+=l[0]*h[u]-h[0]*l[u])}return s<=0&&r<=0&&o<=0}function Pt(t){const e=t.length;return e>2&&tt(t[0],t[e-1])}function ne(t){if("rings"in t&&(Ct(t),t.rings.length>0&&!nt(t.rings[0],t.hasM??!1,t.hasZ??!1)))for(const e of t.rings)e.reverse()}function Ct(t){if("rings"in t)for(const e of t.rings)Pt(e)||e.push(e[0].slice())}function ie(t){return t.type!=="polygon"&&t.type!=="polyline"||It(t.type==="polygon"?t.rings:t.paths,t.spatialReference),t}function It(t,e){const n=vt(e);if(!n)return;const i=n.valid[0],s=n.valid[1],r=s-i;for(const o of t){let a=1/0,l=-1/0;for(const u of o){const c=Nt(u[0],i,s);a=Math.min(a,c),l=Math.max(l,c),u[0]=c}const h=l-a;r-h<h&&o.forEach(u=>{u[0]<0&&(u[0]+=r)})}}function Nt(t,e,n){const i=n-e;return t<e?n-(e-t)%i:t>n?e+(t-e)%i:t}function it(t){if(!t||t.length<3)return 0;let e=0;const n=t.length-1;for(let i=0;i<n;i++)e+=(t[i][0]-t[i+1][0])*(t[i][1]+t[i+1][1]);return e+=(t[n][0]-t[0][0])*(t[n][1]+t[0][1]),-.5*e}function se(t,e){if(t===e)return!0;if(t.type!==e.type)return!1;if(t.type==="point"||t.type==="extent")return!0;if(t.type==="multipoint")return t.points.length===e.points.length;const[n,i]=t.type==="polyline"?[t.paths,e.paths]:[t.rings,e.rings];return n.length===i.length&&n.every((s,r)=>s.length===i[r].length)}function re(t){return t?t.hasZ?[t.xmax-t.xmin/2,t.ymax-t.ymin/2,t.zmax-t.zmin/2]:[t.xmax-t.xmin/2,t.ymax-t.ymin/2]:null}function Ot(t){return t?st(t.rings,t.hasZ??!1):null}function st(t,e){if(!t||!t.length)return null;const n=[],i=[],s=e?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let r=0,o=t.length;r<o;r++){const a=_t(t[r],e,s);a&&i.push(a)}if(i.sort((r,o)=>{let a=r[2]-o[2];return a===0&&e&&(a=r[4]-o[4]),a}),i.length&&(n[0]=i[0][0],n[1]=i[0][1],e&&(n[2]=i[0][3]),(n[0]<s[0]||n[0]>s[1]||n[1]<s[2]||n[1]>s[3]||e&&(n[2]<s[4]||n[2]>s[5]))&&(n.length=0)),!n.length){const r=t[0]&&t[0].length?St(t[0],e):null;if(!r)return null;n[0]=r[0],n[1]=r[1],e&&r.length>2&&(n[2]=r[2])}return n}function _t(t,e,n){let i=0,s=0,r=0,o=0,a=0;const l=t.length?t[0][0]:0,h=t.length?t[0][1]:0,u=t.length&&e?t[0][2]:0;for(let f=0;f<t.length;f++){const p=t[f],y=t[(f+1)%t.length],[m,g,$]=p,x=m-l,R=g-h,[I,M,dt]=y,J=I-l,H=M-h,b=x*H-J*R;if(o+=b,i+=(x+J)*b,s+=(R+H)*b,e&&p.length>2&&y.length>2){const K=$-u,L=dt-u,Q=x*L-J*K;r+=(K+L)*Q,a+=Q}m<n[0]&&(n[0]=m),m>n[1]&&(n[1]=m),g<n[2]&&(n[2]=g),g>n[3]&&(n[3]=g),e&&($<n[4]&&(n[4]=$),$>n[5]&&(n[5]=$))}if(o>0&&(o*=-1),a>0&&(a*=-1),!o)return null;o*=.5,a*=.5;const c=[i/(6*o)+l,s/(6*o)+h,o];return e&&(n[4]===n[5]||a===0?(c[3]=(n[4]+n[5])/2,c[4]=0):(c[3]=r/(6*a)+u,c[4]=a)),c}function St(t,e){const n=e?[0,0,0]:[0,0],i=e?[0,0,0]:[0,0];let s=0,r=0,o=0,a=0;for(let l=0,h=t.length;l<h-1;l++){const u=t[l],c=t[l+1];if(u&&c){n[0]=u[0],n[1]=u[1],i[0]=c[0],i[1]=c[1],e&&u.length>2&&c.length>2&&(n[2]=u[2],i[2]=c[2]);const f=W(n,i);if(f){s+=f;const p=zt(u,c);r+=f*p[0],o+=f*p[1],e&&p.length>2&&(a+=f*p[2])}}}return s>0?e?[r/s,o/s,a/s]:[r/s,o/s]:t.length?t[0]:null}const qt=1e-6;function oe(t){if(!t||!t.rings)return null;const{rings:e}=t;let n=0;for(let r=0;r<e.length;r++)n+=it(e[r]);if(n<qt)return st(e,!1);const i=[0,0],s=e[0][0];for(let r=0;r<e.length;r++)bt(i,s,e[r]);return i[0]*=1/n,i[1]*=1/n,i[0]+=s[0],i[1]+=s[1],i}const Jt=1/3;function bt(t,e,n){if(!t||!n||n.length<3)return null;const i=n[0],s=[0,0],r=[n[1][0]-i[0],n[1][1]-i[1]];let o;for(let h=2;h<n.length;h++)s[0]=n[h][0]-i[0],s[1]=n[h][1]-i[1],o=.5*Jt*(s[0]*r[1]-s[1]*r[0]),t[0]+=o*(r[0]+s[0]),t[1]+=o*(r[1]+s[1]),r[0]=s[0],r[1]=s[1];const a=it(n),l=[i[0],i[1]];return l[0]-=e[0],l[1]-=e[1],l[0]*=a,l[1]*=a,t[0]+=l[0],t[1]+=l[1],t}function rt(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function ot(t){return t.points!==void 0}function at(t){return t.x!==void 0&&t.y!==void 0}function ht(t){return t.paths!==void 0}function lt(t){return t.rings!==void 0}function ut(t){function e(n,i){return n==null?i:i==null?n:t(n,i)}return e}const P=ut(Math.min),C=ut(Math.max);function ae(t,e){return ht(e)?_(t,e.paths,!1,!1):lt(e)?_(t,e.rings,!1,!1):ot(e)?U(t,e.points,!1,!1,!1,!1):rt(e)?ct(t,e):(at(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.x,t[3]=e.y),t)}function he(t,e){return ht(e)?_(t,e.paths,!0,!1):lt(e)?_(t,e.rings,!0,!1):ot(e)?U(t,e.points,!0,!1,!0,!1):rt(e)?ct(t,e,!0,!1,!0,!1):(at(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.x,t[4]=e.y,t[5]=e.z),t)}function _(t,e,n,i){const s=n?3:2;if(!e.length||!e[0].length)return null;let r,o,a,l,[h,u]=e[0][0],[c,f]=e[0][0];for(let p=0;p<e.length;p++){const y=e[p];for(let m=0;m<y.length;m++){const g=y[m],[$,x]=g;if(h=P(h,$),u=P(u,x),c=C(c,$),f=C(f,x),n&&g.length>2){const R=g[2];r=P(r,R),o=C(o,R)}if(i&&g.length>s){const R=g[s];a=P(r,R),l=C(o,R)}}}return n?i?(t[0]=h,t[1]=u,t[2]=r,t[3]=a,t[4]=c,t[5]=f,t[6]=o,t[7]=l,t.length=8,t):(t[0]=h,t[1]=u,t[2]=r,t[3]=c,t[4]=f,t[5]=o,t.length=6,t):i?(t[0]=h,t[1]=u,t[2]=a,t[3]=c,t[4]=f,t[5]=l,t.length=6,t):(t[0]=h,t[1]=u,t[2]=c,t[3]=f,t.length=4,t)}function ct(t,e,n,i,s,r){const o=e.xmin,a=e.xmax,l=e.ymin,h=e.ymax;let u=e.zmin,c=e.zmax,f=e.mmin,p=e.mmax;return s?(u=u||0,c=c||0,r?(f=f||0,p=p||0,t[0]=o,t[1]=l,t[2]=u,t[3]=f,t[4]=a,t[5]=h,t[6]=c,t[7]=p,t):(t[0]=o,t[1]=l,t[2]=u,t[3]=a,t[4]=h,t[5]=c,t)):r?(f=f||0,p=p||0,t[0]=o,t[1]=l,t[2]=f,t[3]=a,t[4]=h,t[5]=p,t):(t[0]=o,t[1]=l,t[2]=a,t[3]=h,t)}function U(t,e,n,i,s,r){const o=n?3:2,a=i&&r,l=n&&s;if(!e.length||!e[0].length)return null;let h,u,c,f,[p,y]=e[0],[m,g]=e[0];for(let $=0;$<e.length;$++){const x=e[$],[R,I]=x;if(p=P(p,R),y=P(y,I),m=C(m,R),g=C(g,I),l&&x.length>2){const M=x[2];h=P(h,M),u=C(u,M)}if(a&&x.length>o){const M=x[o];c=P(h,M),f=C(u,M)}}return s?(h=h||0,u=u||0,r?(c=c||0,f=f||0,t[0]=p,t[1]=y,t[2]=h,t[3]=c,t[4]=m,t[5]=g,t[6]=u,t[7]=f,t):(t[0]=p,t[1]=y,t[2]=h,t[3]=m,t[4]=g,t[5]=u,t)):r?(c=c||0,f=f||0,t[0]=p,t[1]=y,t[2]=c,t[3]=m,t[4]=g,t[5]=f,t):(t[0]=p,t[1]=y,t[2]=m,t[3]=g,t)}function jt(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function kt(t){return t.points!==void 0}function Dt(t){return t.x!==void 0&&t.y!==void 0}function Et(t){return t.paths!==void 0}function Tt(t){return t.rings!==void 0}const B=[];function ft(t,e,n,i){return{xmin:t,ymin:e,xmax:n,ymax:i}}function pt(t,e,n,i,s,r){return{xmin:t,ymin:e,zmin:n,xmax:i,ymax:s,zmax:r}}function gt(t,e,n,i,s,r){return{xmin:t,ymin:e,mmin:n,xmax:i,ymax:s,mmax:r}}function mt(t,e,n,i,s,r,o,a){return{xmin:t,ymin:e,zmin:n,mmin:i,xmax:s,ymax:r,zmax:o,mmax:a}}function F(t,e=!1,n=!1){return e?n?mt(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]):pt(t[0],t[1],t[2],t[3],t[4],t[5]):n?gt(t[0],t[1],t[2],t[3],t[4],t[5]):ft(t[0],t[1],t[2],t[3])}function le(t){return t?jt(t)?t:Dt(t)?Wt(t):Tt(t)?yt(t):Et(t)?xt(t):kt(t)?Gt(t):null:null}function Gt(t){const{hasZ:e,hasM:n,points:i}=t;return F(U(B,i,e??!1,n??!1),e,n)}function Wt(t){const{x:e,y:n,z:i,m:s}=t,r=s!=null;return i!=null?r?mt(e,n,i,s,e,n,i,s):pt(e,n,i,e,n,i):r?gt(e,n,s,e,n,s):ft(e,n,e,n)}function yt(t){const{hasZ:e,hasM:n,rings:i}=t,s=_(B,i,e??!1,n??!1);return s?F(s,e,n):null}function xt(t){const{hasZ:e,hasM:n,paths:i}=t,s=_(B,i,e??!1,n??!1);return s?F(s,e,n):null}var q;function X(t){return!Array.isArray(t[0])}let w=q=class extends T{static fromExtent(t){const e=t.clone().normalize(),n=t.spatialReference;let i=!1,s=!1;for(const o of e)o.hasZ&&(i=!0),o.hasM&&(s=!0);const r={rings:e.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(i&&o.hasZ){const l=o.zmin+.5*(o.zmax-o.zmin);for(let h=0;h<a.length;h++)a[h].push(l)}if(s&&o.hasM){const l=o.mmin+.5*(o.mmax-o.mmin);for(let h=0;h<a.length;h++)a[h].push(l)}return a}),spatialReference:n};return i&&(r.hasZ=!0),s&&(r.hasM=!0),new q(r)}constructor(...t){super(...t),this.rings=[],this.type="polygon"}normalizeCtorArgs(t,e){let n,i,s=null,r=null;return t&&!Array.isArray(t)?(s=t.rings?t.rings:null,e||(t.spatialReference?e=t.spatialReference:t.rings||(e=t)),n=t.hasZ,i=t.hasM):s=t,s=s||[],e=e||Y.WGS84,s.length&&s[0]&&s[0][0]!=null&&typeof s[0][0]=="number"&&(s=[s]),r=s[0]&&s[0][0],r&&(n===void 0&&i===void 0?(n=r.length>2,i=r.length>3):n===void 0?n=i?r.length>3:r.length>2:i===void 0&&(i=n?r.length>3:r.length>2)),{rings:s,spatialReference:e,hasZ:n,hasM:i}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const t=Ot(this);if(!t||isNaN(t[0])||isNaN(t[1])||this.hasZ&&isNaN(t[2]))return null;const e=new v;return e.x=t[0],e.y=t[1],e.spatialReference=this.spatialReference,this.hasZ&&(e.z=t[2]),e}get extent(){const{spatialReference:t}=this,e=yt(this);if(!e)return null;const n=new G(e);return n.spatialReference=t,n}get isSelfIntersecting(){return $t(this.rings)}writeRings(t,e){e.rings=N(this.rings)}addRing(t){if(!t)return;const e=this.rings,n=e.length;if(X(t)){const i=[];for(let s=0,r=t.length;s<r;s++)i[s]=t[s].toArray();e[n]=i}else e[n]=t.concat();return this.notifyChange("rings"),this}clone(){const t=new q;return t.spatialReference=this.spatialReference,t.rings=N(this.rings),t.hasZ=this.hasZ,t.hasM=this.hasM,t}equals(t){if(this===t)return!0;if(Zt(t))return!1;const e=this.spatialReference,n=t.spatialReference;if(S(e)!==S(n)||S(e)&&S(n)&&!e.equals(n)||this.rings.length!==t.rings.length)return!1;const i=([s,r,o,a],[l,h,u,c])=>s===l&&r===h&&(o==null&&u==null||o===u)&&(a==null&&c==null||a===c);for(let s=0;s<this.rings.length;s++){const r=this.rings[s],o=t.rings[s];if(!tt(r,o,i))return!1}return!0}contains(t){if(!t)return!1;const e=Rt(t,this.spatialReference);return Mt(this,S(e)?e:t)}isClockwise(t){let e;return e=X(t)?t.map(n=>this.hasZ?this.hasM?[n.x,n.y,n.z,n.m]:[n.x,n.y,n.z]:[n.x,n.y]):t,nt(e,this.hasM,this.hasZ)}getPoint(t,e){if(!this._validateInputs(t,e))return null;const n=this.rings[t][e],i=this.hasZ,s=this.hasM;return i&&!s?new v(n[0],n[1],n[2],void 0,this.spatialReference):s&&!i?new v(n[0],n[1],void 0,n[2],this.spatialReference):i&&s?new v(n[0],n[1],n[2],n[3],this.spatialReference):new v(n[0],n[1],this.spatialReference)}insertPoint(t,e,n){return this._validateInputs(t,e,!0)?(O(this,n),Array.isArray(n)||(n=n.toArray()),this.rings[t].splice(e,0,n),this.notifyChange("rings"),this):this}removePoint(t,e){if(!this._validateInputs(t,e))return null;const n=new v(this.rings[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("rings"),n}removeRing(t){if(!this._validateInputs(t,null))return null;const e=this.rings.splice(t,1)[0],n=this.spatialReference,i=e.map(s=>new v(s,n));return this.notifyChange("rings"),i}setPoint(t,e,n){return this._validateInputs(t,e)?(O(this,n),Array.isArray(n)||(n=n.toArray()),this.rings[t][e]=n,this.notifyChange("rings"),this):this}_validateInputs(t,e,n=!1){if(t==null||t<0||t>=this.rings.length)return!1;if(e!=null){const i=this.rings[t];if(n&&(e<0||e>i.length)||!n&&(e<0||e>=i.length))return!1}return!0}toJSON(t){return this.write({},t)}};d([Z({readOnly:!0})],w.prototype,"cache",null),d([Z({readOnly:!0})],w.prototype,"centroid",null),d([Z({readOnly:!0})],w.prototype,"extent",null),d([Z({readOnly:!0})],w.prototype,"isSelfIntersecting",null),d([Z({type:[[[Number]]],json:{write:{isRequired:!0}}})],w.prototype,"rings",void 0),d([E("rings")],w.prototype,"writeRings",null),w=q=d([D("esri.geometry.Polygon")],w),w.prototype.toJSON.isDefaultToJSON=!0;const ue=w;var k;function Ut(t){return!Array.isArray(t[0])}let z=k=class extends T{constructor(...t){super(...t),this.paths=[],this.type="polyline"}normalizeCtorArgs(t,e){let n,i,s=null,r=null;return t&&!Array.isArray(t)?(s=t.paths?t.paths:null,e||(t.spatialReference?e=t.spatialReference:t.paths||(e=t)),n=t.hasZ,i=t.hasM):s=t,s=s||[],e=e||Y.WGS84,s.length&&s[0]&&s[0][0]!=null&&typeof s[0][0]=="number"&&(s=[s]),r=s[0]&&s[0][0],r&&(n===void 0&&i===void 0?(n=r.length>2,i=!1):n===void 0?n=!i&&r.length>3:i===void 0&&(i=!n&&r.length>3)),{paths:s,spatialReference:e,hasZ:n,hasM:i}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:t}=this,e=xt(this);if(!e)return null;const n=new G(e);return n.spatialReference=t,n}writePaths(t,e){e.paths=N(this.paths)}addPath(t){if(!t)return;const e=this.paths,n=e.length;if(Ut(t)){const i=[];for(let s=0,r=t.length;s<r;s++)i[s]=t[s].toArray();e[n]=i}else e[n]=t.concat();return this.notifyChange("paths"),this}clone(){const t=new k;return t.spatialReference=this.spatialReference,t.paths=N(this.paths),t.hasZ=this.hasZ,t.hasM=this.hasM,t}getPoint(t,e){if(!this._validateInputs(t,e))return null;const n=this.paths[t][e],i=this.hasZ,s=this.hasM;return i&&!s?new v(n[0],n[1],n[2],void 0,this.spatialReference):s&&!i?new v(n[0],n[1],void 0,n[2],this.spatialReference):i&&s?new v(n[0],n[1],n[2],n[3],this.spatialReference):new v(n[0],n[1],this.spatialReference)}insertPoint(t,e,n){return this._validateInputs(t,e,!0)?(O(this,n),Array.isArray(n)||(n=n.toArray()),this.paths[t].splice(e,0,n),this.notifyChange("paths"),this):this}removePath(t){if(!this._validateInputs(t,null))return null;const e=this.paths.splice(t,1)[0],n=this.spatialReference,i=e.map(s=>new v(s,n));return this.notifyChange("paths"),i}removePoint(t,e){if(!this._validateInputs(t,e))return null;const n=new v(this.paths[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("paths"),n}setPoint(t,e,n){return this._validateInputs(t,e)?(O(this,n),Array.isArray(n)||(n=n.toArray()),this.paths[t][e]=n,this.notifyChange("paths"),this):this}_validateInputs(t,e,n=!1){if(t==null||t<0||t>=this.paths.length)return!1;if(e!=null){const i=this.paths[t];if(n&&(e<0||e>i.length)||!n&&(e<0||e>=i.length))return!1}return!0}toJSON(t){return this.write({},t)}};d([Z({readOnly:!0})],z.prototype,"cache",null),d([Z({readOnly:!0})],z.prototype,"extent",null),d([Z({type:[[[Number]]],json:{write:{isRequired:!0}}})],z.prototype,"paths",void 0),d([E("paths")],z.prototype,"writePaths",null),z=k=d([D("esri.geometry.Polyline")],z),z.prototype.toJSON.isDefaultToJSON=!0;const ce=z;export{it as M,Qt as a,yt as b,ee as c,re as d,Vt as e,ae as f,_ as g,nt as h,It as i,ne as j,zt as k,le as l,ce as m,U as n,st as o,Ct as p,_t as q,Ot as r,Xt as s,Yt as t,te as u,ue as v,oe as w,he as x,ie as y,se as z};
