import{r as c,U as l}from"./request-f01affa1.js";import{r as o}from"./typedArrayUtil-70e1d79e.js";function g(e){const t=e==null?void 0:e.type;return t==="base-tile"||t==="tile"||t==="elevation"||t==="imagery-tile"||t==="base-elevation"||t==="open-street-map"||t==="wcs"||t==="web-tile"||t==="wmts"||t==="vector-tile"}function b(e){return e!=null&&"type"in e&&e.type==="group"}const m={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function v(e){const t=e==null?void 0:e.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function w(e){return(e==null?void 0:e.type)==="voxel"}function L(e){return(e==null?void 0:e.type)==="imagery-tile"}function S(e){return e!=null&&e.parent!=null&&"declaredClass"in e.parent&&e.parent.declaredClass==="esri.Basemap"&&e.parent.baseLayers.includes(e)}function h(e){var t;return(e==null?void 0:e.type)==="feature"&&!e.url&&((t=e.source)==null?void 0:t.type)==="memory"}function C(e){var t;return(e==null?void 0:e.type)==="feature"&&((t=e.source)==null?void 0:t.type)==="feature-layer"}function E(e){if(e.activeLayer){const t=e.activeLayer.tileMatrixSet;if(t)return t;const n=e.activeLayer.tileMatrixSets;if(n)return n}return null}async function j(e,t){var a;const n=(a=c)==null?void 0:a.findServerInfo(e);if((n==null?void 0:n.currentVersion)!=null)return n.owningSystemUrl||null;const i=e.toLowerCase().indexOf("/rest/services");if(i===-1)return null;const s=`${e.substring(0,i)}/rest/info`,u=o(t)?t.signal:null,{data:r}=await l(s,{query:{f:"json"},responseType:"json",signal:u});return(r==null?void 0:r.owningSystemUrl)||null}function f(e){if(!("capabilities"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function x(e){return f(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function y(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function M(e){return!!y(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}export{m as a,j as b,w as c,E as d,h as f,g as i,S as l,L as o,C as p,b as s,v as u,x as v,M as w};
