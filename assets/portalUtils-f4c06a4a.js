import{r as l,U as i}from"./request-f01affa1.js";import{b as a}from"./Portal-52d960e8.js";function m(r,e){return r===null?e:new a({url:r.field("url")})}async function p(r,e,u){var o;if(!((o=l)==null?void 0:o.findCredential(r.restUrl)))return null;if(r.loadStatus==="loaded"&&e===""&&r.user&&r.user.sourceJSON&&u===!1)return r.user.sourceJSON;if(e===""){const n=await i(r.restUrl+"/community/self",{responseType:"json",query:{f:"json",...u===!1?{}:{returnUserLicenseTypeExtensions:!0}}});if(n.data){const t=n.data;if(t&&t.username)return t}return null}const s=await i(r.restUrl+"/community/users/"+e,{responseType:"json",query:{f:"json"}});if(s.data){const n=s.data;return n.error?null:n}return null}export{p as s,m as t};
