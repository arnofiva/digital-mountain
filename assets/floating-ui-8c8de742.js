import{_ as zt}from"./preload-helper-41c905a7.js";import{B as Xt,e as Yt,g as Gt}from"./dom-2ec1e33c.js";/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.7
 */var qt=typeof global=="object"&&global&&global.Object===Object&&global,Kt=typeof self=="object"&&self&&self.Object===Object&&self,St=qt||Kt||Function("return this")(),K=St.Symbol,Lt=Object.prototype,Jt=Lt.hasOwnProperty,Qt=Lt.toString,V=K?K.toStringTag:void 0;function Zt(t){var e=Jt.call(t,V),n=t[V];try{t[V]=void 0;var o=!0}catch{}var i=Qt.call(t);return o&&(e?t[V]=n:delete t[V]),i}var te=Object.prototype,ee=te.toString;function ne(t){return ee.call(t)}var oe="[object Null]",ie="[object Undefined]",dt=K?K.toStringTag:void 0;function re(t){return t==null?t===void 0?ie:oe:dt&&dt in Object(t)?Zt(t):ne(t)}function se(t){return t!=null&&typeof t=="object"}var ce="[object Symbol]";function le(t){return typeof t=="symbol"||se(t)&&re(t)==ce}var ae=/\s/;function fe(t){for(var e=t.length;e--&&ae.test(t.charAt(e)););return e}var ue=/^\s+/;function de(t){return t&&t.slice(0,fe(t)+1).replace(ue,"")}function ot(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var mt=0/0,me=/^[-+]0x[0-9a-f]+$/i,ge=/^0b[01]+$/i,pe=/^0o[0-7]+$/i,he=parseInt;function gt(t){if(typeof t=="number")return t;if(le(t))return mt;if(ot(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ot(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=de(t);var n=ge.test(t);return n||pe.test(t)?he(t.slice(2),n?2:8):me.test(t)?mt:+t}var nt=function(){return St.Date.now()},ye="Expected a function",xe=Math.max,we=Math.min;function be(t,e,n){var o,i,s,c,r,l,a=0,m=!1,f=!1,u=!0;if(typeof t!="function")throw new TypeError(ye);e=gt(e)||0,ot(n)&&(m=!!n.leading,f="maxWait"in n,s=f?xe(gt(n.maxWait)||0,e):s,u="trailing"in n?!!n.trailing:u);function g(b){var T=o,A=i;return o=i=void 0,a=b,c=t.apply(A,T),c}function d(b){return a=b,r=setTimeout(h,e),m?g(b):c}function p(b){var T=b-l,A=b-a,C=e-T;return f?we(C,s-A):C}function O(b){var T=b-l,A=b-a;return l===void 0||T>=e||T<0||f&&A>=s}function h(){var b=nt();if(O(b))return x(b);r=setTimeout(h,p(b))}function x(b){return r=void 0,u&&o?g(b):(o=i=void 0,c)}function w(){r!==void 0&&clearTimeout(r),a=0,o=l=i=r=void 0}function v(){return r===void 0?c:x(nt())}function y(){var b=nt(),T=O(b);if(o=arguments,i=this,l=b,T){if(r===void 0)return d(l);if(f)return clearTimeout(r),r=setTimeout(h,e),g(l)}return r===void 0&&(r=setTimeout(h,e)),c}return y.cancel=w,y.flush=v,y}function I(t){return t.split("-")[0]}function $(t){return t.split("-")[1]}function Y(t){return["top","bottom"].includes(I(t))?"x":"y"}function ct(t){return t==="y"?"height":"width"}function pt(t,e,n){let{reference:o,floating:i}=t;const s=o.x+o.width/2-i.width/2,c=o.y+o.height/2-i.height/2,r=Y(e),l=ct(r),a=o[l]/2-i[l]/2,m=I(e),f=r==="x";let u;switch(m){case"top":u={x:s,y:o.y-i.height};break;case"bottom":u={x:s,y:o.y+o.height};break;case"right":u={x:o.x+o.width,y:c};break;case"left":u={x:o.x-i.width,y:c};break;default:u={x:o.x,y:o.y}}switch($(e)){case"start":u[r]-=a*(n&&f?-1:1);break;case"end":u[r]+=a*(n&&f?-1:1);break}return u}const ve=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:s=[],platform:c}=n,r=s.filter(Boolean),l=await(c.isRTL==null?void 0:c.isRTL(e));let a=await c.getElementRects({reference:t,floating:e,strategy:i}),{x:m,y:f}=pt(a,o,l),u=o,g={},d=0;for(let p=0;p<r.length;p++){const{name:O,fn:h}=r[p],{x,y:w,data:v,reset:y}=await h({x:m,y:f,initialPlacement:o,placement:u,strategy:i,middlewareData:g,rects:a,platform:c,elements:{reference:t,floating:e}});if(m=x??m,f=w??f,g={...g,[O]:{...g[O],...v}},y&&d<=50){d++,typeof y=="object"&&(y.placement&&(u=y.placement),y.rects&&(a=y.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:i}):y.rects),{x:m,y:f}=pt(a,u,l)),p=-1;continue}}return{x:m,y:f,placement:u,strategy:i,middlewareData:g}};function Oe(t){return{top:0,right:0,bottom:0,left:0,...t}}function Et(t){return typeof t!="number"?Oe(t):{top:t,right:t,bottom:t,left:t}}function J(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function z(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:s,rects:c,elements:r,strategy:l}=t,{boundary:a="clippingAncestors",rootBoundary:m="viewport",elementContext:f="floating",altBoundary:u=!1,padding:g=0}=e,d=Et(g),O=r[u?f==="floating"?"reference":"floating":f],h=J(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(O)))==null||n?O:O.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(r.floating)),boundary:a,rootBoundary:m,strategy:l})),x=f==="floating"?{...c.floating,x:o,y:i}:c.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(r.floating)),v=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},y=J(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:x,offsetParent:w,strategy:l}):x);return{top:(h.top-y.top+d.top)/v.y,bottom:(y.bottom-h.bottom+d.bottom)/v.y,left:(h.left-y.left+d.left)/v.x,right:(y.right-h.right+d.right)/v.x}}const Te=Math.min,Ae=Math.max;function it(t,e,n){return Ae(t,Te(e,n))}const Ce=t=>({name:"arrow",options:t,async fn(e){const{element:n,padding:o=0}=t??{},{x:i,y:s,placement:c,rects:r,platform:l}=e;if(n==null)return{};const a=Et(o),m={x:i,y:s},f=Y(c),u=ct(f),g=await l.getDimensions(n),d=f==="y"?"top":"left",p=f==="y"?"bottom":"right",O=r.reference[u]+r.reference[f]-m[f]-r.floating[u],h=m[f]-r.reference[f],x=await(l.getOffsetParent==null?void 0:l.getOffsetParent(n));let w=x?f==="y"?x.clientHeight||0:x.clientWidth||0:0;w===0&&(w=r.floating[u]);const v=O/2-h/2,y=a[d],b=w-g[u]-a[p],T=w/2-g[u]/2+v,A=it(y,T,b),L=$(c)!=null&&T!=A&&r.reference[u]/2-(T<y?a[d]:a[p])-g[u]/2<0?T<y?y-T:b-T:0;return{[f]:m[f]-L,data:{[f]:A,centerOffset:T-A}}}}),Re={left:"right",right:"left",bottom:"top",top:"bottom"};function Q(t){return t.replace(/left|right|bottom|top/g,e=>Re[e])}function Ft(t,e,n){n===void 0&&(n=!1);const o=$(t),i=Y(t),s=ct(i);let c=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(c=Q(c)),{main:c,cross:Q(c)}}const Pe={start:"end",end:"start"};function rt(t){return t.replace(/start|end/g,e=>Pe[e])}const kt=["top","right","bottom","left"],ht=kt.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);function Se(t,e,n){return(t?[...n.filter(i=>$(i)===t),...n.filter(i=>$(i)!==t)]:n.filter(i=>I(i)===i)).filter(i=>t?$(i)===t||(e?rt(i)!==i:!1):!0)}const Le=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,o,i,s,c;const{x:r,y:l,rects:a,middlewareData:m,placement:f,platform:u,elements:g}=e,{alignment:d,allowedPlacements:p=ht,autoAlignment:O=!0,...h}=t,x=d!==void 0||p===ht?Se(d||null,O,p):p,w=await z(e,h),v=(n=(o=m.autoPlacement)==null?void 0:o.index)!=null?n:0,y=x[v];if(y==null)return{};const{main:b,cross:T}=Ft(y,a,await(u.isRTL==null?void 0:u.isRTL(g.floating)));if(f!==y)return{x:r,y:l,reset:{placement:x[0]}};const A=[w[I(y)],w[b],w[T]],C=[...(i=(s=m.autoPlacement)==null?void 0:s.overflows)!=null?i:[],{placement:y,overflows:A}],L=x[v+1];if(L)return{data:{index:v+1,overflows:C},reset:{placement:L}};const B=C.slice().sort((E,_)=>E.overflows[0]-_.overflows[0]),W=(c=B.find(E=>{let{overflows:_}=E;return _.every(Ut=>Ut<=0)}))==null?void 0:c.placement,D=W??B[0].placement;return D!==f?{data:{index:v+1,overflows:C},reset:{placement:D}}:{}}}};function Ee(t){const e=Q(t);return[rt(t),e,rt(e)]}const yt=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:o,middlewareData:i,rects:s,initialPlacement:c,platform:r,elements:l}=e,{mainAxis:a=!0,crossAxis:m=!0,fallbackPlacements:f,fallbackStrategy:u="bestFit",flipAlignment:g=!0,...d}=t,p=I(o),h=f||(p===c||!g?[Q(c)]:Ee(c)),x=[c,...h],w=await z(e,d),v=[];let y=((n=i.flip)==null?void 0:n.overflows)||[];if(a&&v.push(w[p]),m){const{main:C,cross:L}=Ft(o,s,await(r.isRTL==null?void 0:r.isRTL(l.floating)));v.push(w[C],w[L])}if(y=[...y,{placement:o,overflows:v}],!v.every(C=>C<=0)){var b,T;const C=((b=(T=i.flip)==null?void 0:T.index)!=null?b:0)+1,L=x[C];if(L)return{data:{index:C,overflows:y},reset:{placement:L}};let B="bottom";switch(u){case"bestFit":{var A;const W=(A=y.map(D=>[D,D.overflows.filter(E=>E>0).reduce((E,_)=>E+_,0)]).sort((D,E)=>D[1]-E[1])[0])==null?void 0:A[0].placement;W&&(B=W);break}case"initialPlacement":B=c;break}if(o!==B)return{reset:{placement:B}}}return{}}}};function xt(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function wt(t){return kt.some(e=>t[e]>=0)}const Fe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{strategy:n="referenceHidden",...o}=t,{rects:i}=e;switch(n){case"referenceHidden":{const s=await z(e,{...o,elementContext:"reference"}),c=xt(s,i.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:wt(c)}}}case"escaped":{const s=await z(e,{...o,altBoundary:!0}),c=xt(s,i.floating);return{data:{escapedOffsets:c,escaped:wt(c)}}}default:return{}}}}};async function ke(t,e){const{placement:n,platform:o,elements:i}=t,s=await(o.isRTL==null?void 0:o.isRTL(i.floating)),c=I(n),r=$(n),l=Y(n)==="x",a=["left","top"].includes(c)?-1:1,m=s&&l?-1:1,f=typeof e=="function"?e(t):e;let{mainAxis:u,crossAxis:g,alignmentAxis:d}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return r&&typeof d=="number"&&(g=r==="end"?d*-1:d),l?{x:g*m,y:u*a}:{x:u*a,y:g*m}}const je=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:o}=e,i=await ke(e,t);return{x:n+i.x,y:o+i.y,data:i}}}};function Be(t){return t==="x"?"y":"x"}const De=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:s=!0,crossAxis:c=!1,limiter:r={fn:O=>{let{x:h,y:x}=O;return{x:h,y:x}}},...l}=t,a={x:n,y:o},m=await z(e,l),f=Y(I(i)),u=Be(f);let g=a[f],d=a[u];if(s){const O=f==="y"?"top":"left",h=f==="y"?"bottom":"right",x=g+m[O],w=g-m[h];g=it(x,g,w)}if(c){const O=u==="y"?"top":"left",h=u==="y"?"bottom":"right",x=d+m[O],w=d-m[h];d=it(x,d,w)}const p=r.fn({...e,[f]:g,[u]:d});return{...p,data:{x:p.x-n,y:p.y-o}}}}};function R(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function S(t){return R(t).getComputedStyle(t)}function k(t){return Bt(t)?(t.nodeName||"").toLowerCase():""}let G;function jt(){if(G)return G;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(G=t.brands.map(e=>e.brand+"/"+e.version).join(" "),G):navigator.userAgent}function F(t){return t instanceof R(t).HTMLElement}function P(t){return t instanceof R(t).Element}function Bt(t){return t instanceof R(t).Node}function bt(t){if(typeof ShadowRoot>"u")return!1;const e=R(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function tt(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=S(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(i)}function $e(t){return["table","td","th"].includes(k(t))}function lt(t){const e=/firefox/i.test(jt()),n=S(t),o=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||(o?o!=="none":!1)||e&&n.willChange==="filter"||e&&(n.filter?n.filter!=="none":!1)||["transform","perspective"].some(i=>n.willChange.includes(i))||["paint","layout","strict","content"].some(i=>{const s=n.contain;return s!=null?s.includes(i):!1})}function Dt(){return!/^((?!chrome|android).)*safari/i.test(jt())}function at(t){return["html","body","#document"].includes(k(t))}const vt=Math.min,H=Math.max,Z=Math.round;function $t(t){const e=S(t);let n=parseFloat(e.width),o=parseFloat(e.height);const i=t.offsetWidth,s=t.offsetHeight,c=Z(n)!==i||Z(o)!==s;return c&&(n=i,o=s),{width:n,height:o,fallback:c}}function Nt(t){return P(t)?t:t.contextElement}const It={x:1,y:1};function M(t){const e=Nt(t);if(!F(e))return It;const n=e.getBoundingClientRect(),{width:o,height:i,fallback:s}=$t(e);let c=(s?Z(n.width):n.width)/o,r=(s?Z(n.height):n.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!r||!Number.isFinite(r))&&(r=1),{x:c,y:r}}function N(t,e,n,o){var i,s;e===void 0&&(e=!1),n===void 0&&(n=!1);const c=t.getBoundingClientRect(),r=Nt(t);let l=It;e&&(o?P(o)&&(l=M(o)):l=M(t));const a=r?R(r):window,m=!Dt()&&n;let f=(c.left+(m&&((i=a.visualViewport)==null?void 0:i.offsetLeft)||0))/l.x,u=(c.top+(m&&((s=a.visualViewport)==null?void 0:s.offsetTop)||0))/l.y,g=c.width/l.x,d=c.height/l.y;if(r){const p=R(r),O=o&&P(o)?R(o):o;let h=p.frameElement;for(;h&&o&&O!==p;){const x=M(h),w=h.getBoundingClientRect(),v=getComputedStyle(h);w.x+=(h.clientLeft+parseFloat(v.paddingLeft))*x.x,w.y+=(h.clientTop+parseFloat(v.paddingTop))*x.y,f*=x.x,u*=x.y,g*=x.x,d*=x.y,f+=w.x,u+=w.y,h=R(h).frameElement}}return{width:g,height:d,top:u,right:f+g,bottom:u+d,left:f,x:f,y:u}}function j(t){return((Bt(t)?t.ownerDocument:t.document)||window.document).documentElement}function et(t){return P(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Mt(t){return N(j(t)).left+et(t).scrollLeft}function Ne(t,e,n){const o=F(e),i=j(e),s=N(t,!0,n==="fixed",e);let c={scrollLeft:0,scrollTop:0};const r={x:0,y:0};if(o||!o&&n!=="fixed")if((k(e)!=="body"||tt(i))&&(c=et(e)),F(e)){const l=N(e,!0);r.x=l.x+e.clientLeft,r.y=l.y+e.clientTop}else i&&(r.x=Mt(i));return{x:s.left+c.scrollLeft-r.x,y:s.top+c.scrollTop-r.y,width:s.width,height:s.height}}function X(t){if(k(t)==="html")return t;const e=t.assignedSlot||t.parentNode||(bt(t)?t.host:null)||j(t);return bt(e)?e.host:e}function Ot(t){return!F(t)||S(t).position==="fixed"?null:t.offsetParent}function Ie(t){let e=X(t);for(;F(e)&&!at(e);){if(lt(e))return e;e=X(e)}return null}function Tt(t){const e=R(t);let n=Ot(t);for(;n&&$e(n)&&S(n).position==="static";)n=Ot(n);return n&&(k(n)==="html"||k(n)==="body"&&S(n).position==="static"&&!lt(n))?e:n||Ie(t)||e}function Me(t){return $t(t)}function We(t){let{rect:e,offsetParent:n,strategy:o}=t;const i=F(n),s=j(n);if(n===s)return e;let c={scrollLeft:0,scrollTop:0},r={x:1,y:1};const l={x:0,y:0};if((i||!i&&o!=="fixed")&&((k(n)!=="body"||tt(s))&&(c=et(n)),F(n))){const a=N(n);r=M(n),l.x=a.x+n.clientLeft,l.y=a.y+n.clientTop}return{width:e.width*r.x,height:e.height*r.y,x:e.x*r.x-c.scrollLeft*r.x+l.x,y:e.y*r.y-c.scrollTop*r.y+l.y}}function _e(t,e){const n=R(t),o=j(t),i=n.visualViewport;let s=o.clientWidth,c=o.clientHeight,r=0,l=0;if(i){s=i.width,c=i.height;const a=Dt();(a||!a&&e==="fixed")&&(r=i.offsetLeft,l=i.offsetTop)}return{width:s,height:c,x:r,y:l}}function Ve(t){var e;const n=j(t),o=et(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=H(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),c=H(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0);let r=-o.scrollLeft+Mt(t);const l=-o.scrollTop;return S(i||n).direction==="rtl"&&(r+=H(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:c,x:r,y:l}}function Wt(t){const e=X(t);return at(e)?t.ownerDocument.body:F(e)&&tt(e)?e:Wt(e)}function U(t,e){var n;e===void 0&&(e=[]);const o=Wt(t),i=o===((n=t.ownerDocument)==null?void 0:n.body),s=R(o);return i?e.concat(s,s.visualViewport||[],tt(o)?o:[]):e.concat(o,U(o))}function He(t,e){const n=N(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,s=F(t)?M(t):{x:1,y:1},c=t.clientWidth*s.x,r=t.clientHeight*s.y,l=i*s.x,a=o*s.y;return{top:a,left:l,right:l+c,bottom:a+r,x:l,y:a,width:c,height:r}}function At(t,e,n){return e==="viewport"?J(_e(t,n)):P(e)?He(e,n):J(Ve(j(t)))}function Ue(t,e){const n=e.get(t);if(n)return n;let o=U(t).filter(r=>P(r)&&k(r)!=="body"),i=null;const s=S(t).position==="fixed";let c=s?X(t):t;for(;P(c)&&!at(c);){const r=S(c),l=lt(c);(s?!l&&!i:!l&&r.position==="static"&&!!i&&["absolute","fixed"].includes(i.position))?o=o.filter(m=>m!==c):i=r,c=X(c)}return e.set(t,o),o}function ze(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const c=[...n==="clippingAncestors"?Ue(e,this._c):[].concat(n),o],r=c[0],l=c.reduce((a,m)=>{const f=At(e,m,i);return a.top=H(f.top,a.top),a.right=vt(f.right,a.right),a.bottom=vt(f.bottom,a.bottom),a.left=H(f.left,a.left),a},At(e,r,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}const q={getClippingRect:ze,convertOffsetParentRelativeRectToViewportRelativeRect:We,isElement:P,getDimensions:Me,getOffsetParent:Tt,getDocumentElement:j,getScale:M,async getElementRects(t){let{reference:e,floating:n,strategy:o}=t;const i=this.getOffsetParent||Tt,s=this.getDimensions;return{reference:Ne(e,await i(n),o),floating:{x:0,y:0,...await s(n)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>S(t).direction==="rtl"};function Xe(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:c=!0,animationFrame:r=!1}=o,l=i&&!r,a=l||s?[...P(t)?U(t):t.contextElement?U(t.contextElement):[],...U(e)]:[];a.forEach(d=>{l&&d.addEventListener("scroll",n,{passive:!0}),s&&d.addEventListener("resize",n)});let m=null;if(c){let d=!0;m=new ResizeObserver(()=>{d||n(),d=!1}),P(t)&&!r&&m.observe(t),!P(t)&&t.contextElement&&!r&&m.observe(t.contextElement),m.observe(e)}let f,u=r?N(t):null;r&&g();function g(){const d=N(t);u&&(d.x!==u.x||d.y!==u.y||d.width!==u.width||d.height!==u.height)&&n(),u=d,f=requestAnimationFrame(g)}return n(),()=>{var d;a.forEach(p=>{l&&p.removeEventListener("scroll",n),s&&p.removeEventListener("resize",n)}),(d=m)==null||d.disconnect(),m=null,r&&cancelAnimationFrame(f)}}const Ye=(t,e,n)=>{const o=new Map,i={platform:q,...n},s={...i.platform,_c:o};return ve(t,e,{...i,platform:s})},Ge=globalThis.calciteComponentsConfig,qe={floatingUINonChromiumPositioningFix:!0,...Ge},Ke=Je();async function Je(){function t(){const e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(n=>`${n.brand}/${n.version}`).join(" "):navigator.userAgent}if(Xt.isBrowser&&qe.floatingUINonChromiumPositioningFix&&/firefox|safari/i.test(t())){const{getClippingRect:e,getElementRects:n,getOffsetParent:o}=await zt(()=>import("./nonChromiumPlatformUtils-d47fc20b.js"),["./nonChromiumPlatformUtils-d47fc20b.js","./preload-helper-41c905a7.js","./dom-2ec1e33c.js"],import.meta.url);q.getClippingRect=e,q.getOffsetParent=o,q.getElementRects=n}}const _t="data-placement",Ct=100,Rt=["top","bottom","right","left","top-start","top-end","bottom-start","bottom-end","right-start","right-end","left-start","left-end"],Qe={animation:"calcite-floating-ui-anim",animationActive:"calcite-floating-ui-anim--active"};function Ze({placement:t,flipDisabled:e,flipPlacements:n,offsetDistance:o,offsetSkidding:i,arrowEl:s,type:c}){const r=[De(),Fe()];if(c==="menu")return[...r,yt({fallbackPlacements:n||["top-start","top","top-end","bottom-start","bottom","bottom-end"]})];if(c==="popover"||c==="tooltip"){const l=[...r,je({mainAxis:typeof o=="number"?o:0,crossAxis:typeof i=="number"?i:0})];return t==="auto"||t==="auto-start"||t==="auto-end"?l.push(Le({alignment:t==="auto-start"?"start":t==="auto-end"?"end":null})):e||l.push(yt(n?{fallbackPlacements:n}:{})),s&&l.push(Ce({element:s})),l}return[]}function cn(t,e){const n=t.filter(o=>Rt.includes(o));return n.length!==t.length&&console.warn(`${e.tagName}: Invalid value found in: flipPlacements. Try any of these: ${Rt.map(o=>`"${o}"`).join(", ").trim()}`,{el:e}),n}function tn(t,e){const n=["left","right"];return Gt(t)==="rtl"&&n.reverse(),e.replace(/leading/gi,n[0]).replace(/trailing/gi,n[1])}async function ln(t,e,n=!1){if(t.open)return n?en(e):Vt(e)}const en=be(Vt,Ct,{leading:!0,maxWait:Ct});async function Vt({referenceEl:t,floatingEl:e,overlayPositioning:n="absolute",placement:o,flipDisabled:i,flipPlacements:s,offsetDistance:c,offsetSkidding:r,includeArrow:l=!1,arrowEl:a,type:m}){var v;if(!t||!e||l&&!a)return null;await Ke;const{x:f,y:u,placement:g,strategy:d,middlewareData:p}=await Ye(t,e,{strategy:n,placement:o==="auto"||o==="auto-start"||o==="auto-end"?void 0:tn(e,o),middleware:Ze({placement:o,flipDisabled:i,flipPlacements:s,offsetDistance:c,offsetSkidding:r,arrowEl:a,type:m})});if(p!=null&&p.arrow){const{x:y,y:b}=p.arrow;Object.assign(a.style,{left:y!=null?`${y}px`:"",top:b!=null?`${b}px`:""})}const h=((v=p==null?void 0:p.hide)==null?void 0:v.referenceHidden)?"hidden":null,x=h?"none":null;e.setAttribute(_t,g);const w=`translate(${Math.round(f)}px,${Math.round(u)}px)`;Object.assign(e.style,{visibility:h,pointerEvents:x,position:d,top:"0",left:"0",transform:w})}const st=new WeakMap;function an(t,e,n){if(!n||!e)return;nn(t,e,n);const o=t.overlayPositioning;Object.assign(n.style,{visibility:"hidden",pointerEvents:"none",position:o}),o==="absolute"&&Ht(n);const i=Xe;st.set(t,i(e,n,()=>t.reposition()))}function nn(t,e,n){if(!n||!e)return;ft(n).removeEventListener("transitionend",ut);const o=st.get(t);o&&o(),st.delete(t)}const Pt=4,fn=Math.ceil(Math.hypot(Pt,Pt));function un(t){!t||t.style.position!=="absolute"||ft(t).addEventListener("transitionend",ut)}function ft(t){return t.shadowRoot||t}function ut(t){const e=t.target;if(t.propertyName==="opacity"&&e.classList.contains(Qe.animation)){const n=on(e);Ht(n),ft(n).removeEventListener("transitionend",ut)}}function Ht(t){t.style.transform="",t.style.top="0",t.style.left="0"}function on(t){return Yt(t,`[${_t}]`)}export{Qe as F,K as S,nn as a,St as b,an as c,fn as d,re as e,cn as f,qt as g,le as h,se as i,ot as j,be as k,J as l,ln as r,un as u};
